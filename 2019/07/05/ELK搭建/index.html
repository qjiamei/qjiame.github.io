<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>ELK搭建 | JAVA前沿</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">ELK搭建</h1><a id="logo" href="/.">JAVA前沿</a><p class="description">阙继芳的技术博客</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">ELK搭建</h1><div class="post-meta">Jul 5, 2019<span> | </span><span class="category"><a href="/categories/elk/">elk</a></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#三-安装logstash"><span class="toc-number">1.</span> <span class="toc-text">三.安装logstash</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#四-Kibana安装与配置"><span class="toc-number">2.</span> <span class="toc-text">四.Kibana安装与配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#五-使用rsyslog采集操作系统日志发送给logstash"><span class="toc-number">3.</span> <span class="toc-text">五.使用rsyslog采集操作系统日志发送给logstash\</span></a></li></ol></div></div><div class="post-content"><p>###一. 搭建的版本是</p>
<ol>
<li>下载网址:<a href="https://www.elastic.co/cn/" target="_blank" rel="noopener">https://www.elastic.co/cn/</a></li>
<li>本次搭建 的是7.2.0, es logstash kibana三个软件的版本必须保持一致</li>
</ol>
<p>###二. 搭建ES<br>(1). 添加一个用户，无任何提示则表示成功添加。<br><code>[root@localhost soft]# adduser king</code></p>
<p>(2). 设置用户密码，需要输入两次。其中提示无效的密码可以不用管，是因为密码太简单，不符合安全要求。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost soft]# passwd king</span><br><span class="line">更改用户 king 的密码 。</span><br><span class="line">新的 密码：</span><br><span class="line">无效的密码： 过于简单化/系统化</span><br><span class="line">无效的密码： 过于简单</span><br><span class="line">重新输入新的 密码：</span><br><span class="line">passwd： 所有的身份验证令牌已经成功更新。</span><br></pre></td></tr></table></figure></p>
<p>(3). 在根目录下创建一个文件夹soft，并将拥有者更改为king，使用<code>ls -al /soft</code>命令查看此时/soft文件夹的拥有者<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost /]# mkdir /soft</span><br><span class="line">[root@localhost /]# chown king /soft</span><br><span class="line">[root@localhost /]# ls -al /soft</span><br><span class="line">drwxr-xr-x.  2 king root 4096 9月   3 01:58 .</span><br><span class="line">dr-xr-xr-x. 26 root root 4096 9月   3 01:58 ..</span><br></pre></td></tr></table></figure></p>
<p>(4).使用yum安装openjdk1.8，使用yum search jdk1.8搜索安装包,安装好JDK</p>
<p><strong>(5).至此之前，我们都是使用root身份来操作的，下面使用如下命令切换到king用户。</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost /]# su king</span><br><span class="line">[king@localhost /]$ cd /soft</span><br><span class="line">[king@localhost soft]$</span><br></pre></td></tr></table></figure></p>
<p>(6).下载ElasticSearch并安装<br><code>tar -zxvf elasticsearch</code></p>
<p>(7). 进入bin目录并启动<br><code>./elasticsearch</code></p>
<p>(8). 新打开一个窗口,输入<code>curl localhost:9200</code>,如果有以下输出则说明启动成功。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[king@localhost ~]$ curl localhost:9200</span><br><span class="line">&#123;</span><br><span class="line">  &quot;name&quot; : &quot;ZGws7ZX&quot;,</span><br><span class="line">  &quot;cluster_name&quot; : &quot;elasticsearch&quot;,</span><br><span class="line">  &quot;cluster_uuid&quot; : &quot;yeYDTLbNQ--rmDXMi2xO-g&quot;,</span><br><span class="line">  &quot;version&quot; : &#123;</span><br><span class="line">    &quot;number&quot; : &quot;5.5.2&quot;,</span><br><span class="line">    &quot;build_hash&quot; : &quot;b2f0c09&quot;,</span><br><span class="line">    &quot;build_date&quot; : &quot;2017-08-14T12:33:14.154Z&quot;,</span><br><span class="line">    &quot;build_snapshot&quot; : false,</span><br><span class="line">    &quot;lucene_version&quot; : &quot;6.6.0&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;tagline&quot; : &quot;You Know, for Search&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>(9). 配置外网启动,在config/elasticsearch.yml添加如下内容<br><code>network.host: 0.0.0.0</code></p>
<p>(10). 错误处理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ERROR: [3] bootstrap checks failed</span><br><span class="line">#文件句柄太少，至少要65536</span><br><span class="line">[1]: max file descriptors [4096] for elasticsearch process is too low, increase to at least [65536]</span><br><span class="line">#最大线程数太少，至少2048个(经典的2048游戏)</span><br><span class="line">[2]: max number of threads [1024] for user [king] is too low, increase to at least [2048]</span><br><span class="line">#虚拟内存太少，至少262144</span><br><span class="line">[3]: max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144]</span><br></pre></td></tr></table></figure></p>
<p>(11). 切换为root用户,处理错误<br>(12). 更改文件句柄数<code>[root@localhost ~]# vi /etc/security/limits.conf</code><br>    加入如下信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* soft nofile 65536</span><br><span class="line">* hard nofile 131072</span><br><span class="line">* soft nproc 2048</span><br><span class="line">* hard nproc 4096</span><br></pre></td></tr></table></figure></p>
<p>(13). 增加线程数<br><code>[root@localhost ~]# vi /etc/security/limits.d/90-nproc.conf</code><br>将其中的<code>*          soft    nproc     1024</code>修改为<code>*          soft    nproc     2048</code></p>
<p>(14). 增加虚拟内存<br><code>[root@localhost ~]# vim /etc/sysctl.conf</code><br>在其中添加<code>vm.max_map_count=655360</code></p>
<p>(15). 这些修改完成后，并没有生效，需要使用以下命令使其生效。<br><code>sysctl -p</code></p>
<p>(16). 切换为king帐户, 重新启动<br>后台启动命令: <code>nohup ./bin/elasticsearch&amp;</code></p>
<p>(17). 在后台启动时可以使用<code>tail -fn 200 nohup.out</code>查看日志</p>
<p>(18).如果不想输出nohup.out文件怎么办呢？也很简单，将输出信息重定向就可以了<br><code>nohup bin/elasticsearch &gt;/dev/null 2&gt;&amp;1 &amp;</code><br>另外一种后台启动方式是<code>bin/elasticsearch -d</code></p>
<p>(19). 配置修改配置文件<br>必须修改项:<code>cluster.initial_master_nodes: [&quot;node-1&quot;]</code><br>其它<br>[root@elk-node1 ~]# mkdir -p /data/es-data<br>[root@elk-node1 ~]# vim /etc/elasticsearch/elasticsearch.yml                               【将里面内容情况，配置下面内容】<br>cluster.name: huanqiu                            # 组名（同一个组，组名必须一致）<br>node.name: elk-node1                            # 节点名称，建议和主机名一致<br>path.data: /data/es-data                         # 数据存放的路径<br>path.logs: /var/log/elasticsearch/             # 日志存放的路径<br>bootstrap.mlockall: true                         # 锁住内存，不被使用到交换分区去<br>network.host: 0.0.0.0                            # 网络设置<br>http.port: 9200                                    # 端口</p>
<h3 id="三-安装logstash"><a href="#三-安装logstash" class="headerlink" title="三.安装logstash"></a>三.安装logstash</h3><p>(1). 将下载好的logstash解压到系统对应目录<br><code>tar -zxf logstash-6.0.0.tar.gz</code></p>
<p>(2). 创建logstash.conf文件<br><code>vim logstash.conf</code>,监听logback日志发送的json信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">input &#123;</span><br><span class="line">    tcp &#123;</span><br><span class="line">        port =&gt; 20154</span><br><span class="line">        codec =&gt; &quot;json&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">output &#123;</span><br><span class="line">     elasticsearch &#123;</span><br><span class="line">        action =&gt; &quot;index&quot;</span><br><span class="line">        hosts =&gt; [&quot;172.31.224.141:9200&quot;]</span><br><span class="line">        index =&gt; &quot;%&#123;[appname]&#125;&quot;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>下面的配置文件是监听TCP信息的传入设置,配合logback的日志方式,需要增加四个jar包<br><code>logback-access-1.1.2.jar</code><br><code>logback-classic-1.1.2.jar</code><br><code>logback-core-1.1.2.jar</code><br><code>logstash-logback-encoder-4.11.jar</code></p>
<p>(3). log.xml的配置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;configuration</span><br><span class="line">        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">        xsi:noNamespaceSchemaLocation=&quot;http://www.padual.com/java/logback.xsd&quot;</span><br><span class="line">        debug=&quot;false&quot; scan=&quot;true&quot; scanPeriod=&quot;30 second&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;property name=&quot;PROJECT&quot; value=&quot;iorder&quot; /&gt;</span><br><span class="line">    &lt;property name=&quot;ROOT&quot; value=&quot;logs/$&#123;PROJECT&#125;/&quot; /&gt;</span><br><span class="line">    &lt;property name=&quot;FILESIZE&quot; value=&quot;300MB&quot; /&gt;</span><br><span class="line">    &lt;property name=&quot;MAXHISTORY&quot; value=&quot;30&quot; /&gt;</span><br><span class="line">    &lt;!-- 总日志大小限制 --&gt;</span><br><span class="line">    &lt;totalSizeCap&gt;20GB&lt;/totalSizeCap&gt;</span><br><span class="line">    &lt;timestamp key=&quot;DATETIME&quot; datePattern=&quot;yyyy-MM-dd HH:mm:ss&quot; /&gt;</span><br><span class="line">    &lt;!-- 控制台打印 --&gt;</span><br><span class="line">    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;</span><br><span class="line">        &lt;encoder charset=&quot;utf-8&quot;&gt;</span><br><span class="line">            &lt;pattern&gt;[%-5level] %d&#123;$&#123;DATETIME&#125;&#125; [%thread] %logger&#123;36&#125; - %m%n</span><br><span class="line">            &lt;/pattern&gt;</span><br><span class="line">        &lt;/encoder&gt;</span><br><span class="line">    &lt;/appender&gt;</span><br><span class="line">    &lt;!-- ERROR 输入到文件，按日期和文件大小 --&gt;</span><br><span class="line">    &lt;appender name=&quot;ERROR&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;</span><br><span class="line">        &lt;encoder charset=&quot;utf-8&quot;&gt;</span><br><span class="line">            &lt;pattern&gt;[%-5level] %d&#123;$&#123;DATETIME&#125;&#125; [%thread] %logger&#123;36&#125; - %m%n</span><br><span class="line">            &lt;/pattern&gt;</span><br><span class="line">        &lt;/encoder&gt;</span><br><span class="line">        &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;</span><br><span class="line">            &lt;level&gt;ERROR&lt;/level&gt;</span><br><span class="line">            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;</span><br><span class="line">            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;</span><br><span class="line">        &lt;/filter&gt;</span><br><span class="line">        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;</span><br><span class="line">            &lt;fileNamePattern&gt;$&#123;ROOT&#125;%d/error.%i.log&lt;/fileNamePattern&gt;</span><br><span class="line">            &lt;maxHistory&gt;$&#123;MAXHISTORY&#125;&lt;/maxHistory&gt;</span><br><span class="line">            &lt;timeBasedFileNamingAndTriggeringPolicy</span><br><span class="line">                    class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;</span><br><span class="line">                &lt;maxFileSize&gt;$&#123;FILESIZE&#125;&lt;/maxFileSize&gt;</span><br><span class="line">            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;</span><br><span class="line">        &lt;/rollingPolicy&gt;</span><br><span class="line">    &lt;/appender&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- WARN 输入到文件，按日期和文件大小 --&gt;</span><br><span class="line">    &lt;appender name=&quot;WARN&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;</span><br><span class="line">        &lt;encoder charset=&quot;utf-8&quot;&gt;</span><br><span class="line">            &lt;pattern&gt;[%-5level] %d&#123;$&#123;DATETIME&#125;&#125; [%thread] %logger&#123;36&#125; - %m%n</span><br><span class="line">            &lt;/pattern&gt;</span><br><span class="line">        &lt;/encoder&gt;</span><br><span class="line">        &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;</span><br><span class="line">            &lt;level&gt;WARN&lt;/level&gt;</span><br><span class="line">            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;</span><br><span class="line">            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;</span><br><span class="line">        &lt;/filter&gt;</span><br><span class="line">        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;</span><br><span class="line">            &lt;fileNamePattern&gt;$&#123;ROOT&#125;%d/warn.%i.log&lt;/fileNamePattern&gt;</span><br><span class="line">            &lt;maxHistory&gt;$&#123;MAXHISTORY&#125;&lt;/maxHistory&gt;</span><br><span class="line">            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;</span><br><span class="line">                &lt;maxFileSize&gt;$&#123;FILESIZE&#125;&lt;/maxFileSize&gt;</span><br><span class="line">            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;</span><br><span class="line">        &lt;/rollingPolicy&gt;</span><br><span class="line">    &lt;/appender&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- INFO 输入到文件，按日期和文件大小 --&gt;</span><br><span class="line">    &lt;appender name=&quot;INFO&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;</span><br><span class="line">        &lt;encoder charset=&quot;utf-8&quot;&gt;</span><br><span class="line">            &lt;pattern&gt;[%-5level] %d&#123;$&#123;DATETIME&#125;&#125; [%thread] %logger&#123;36&#125; - %m%n</span><br><span class="line">            &lt;/pattern&gt;</span><br><span class="line">        &lt;/encoder&gt;</span><br><span class="line">        &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;</span><br><span class="line">            &lt;level&gt;INFO&lt;/level&gt;</span><br><span class="line">            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;</span><br><span class="line">            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;</span><br><span class="line">        &lt;/filter&gt;</span><br><span class="line">        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;</span><br><span class="line">            &lt;fileNamePattern&gt;$&#123;ROOT&#125;%d/info.%i.log&lt;/fileNamePattern&gt;</span><br><span class="line">            &lt;maxHistory&gt;$&#123;MAXHISTORY&#125;&lt;/maxHistory&gt;</span><br><span class="line">            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;</span><br><span class="line">                &lt;maxFileSize&gt;$&#123;FILESIZE&#125;&lt;/maxFileSize&gt;</span><br><span class="line">            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;</span><br><span class="line">        &lt;/rollingPolicy&gt;</span><br><span class="line">    &lt;/appender&gt;</span><br><span class="line">    &lt;!-- DEBUG 输入到文件，按日期和文件大小 --&gt;</span><br><span class="line">    &lt;appender name=&quot;DEBUG&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;</span><br><span class="line">        &lt;encoder charset=&quot;utf-8&quot;&gt;</span><br><span class="line">            &lt;pattern&gt;[%-5level] %d&#123;$&#123;DATETIME&#125;&#125; [%thread] %logger&#123;36&#125; - %m%n</span><br><span class="line">            &lt;/pattern&gt;</span><br><span class="line">        &lt;/encoder&gt;</span><br><span class="line">        &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;</span><br><span class="line">            &lt;level&gt;DEBUG&lt;/level&gt;</span><br><span class="line">            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;</span><br><span class="line">            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;</span><br><span class="line">        &lt;/filter&gt;</span><br><span class="line">        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;</span><br><span class="line">            &lt;fileNamePattern&gt;$&#123;ROOT&#125;%d/debug.%i.log&lt;/fileNamePattern&gt;</span><br><span class="line">            &lt;maxHistory&gt;$&#123;MAXHISTORY&#125;&lt;/maxHistory&gt;</span><br><span class="line">            &lt;timeBasedFileNamingAndTriggeringPolicy</span><br><span class="line">                    class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;</span><br><span class="line">                &lt;maxFileSize&gt;$&#123;FILESIZE&#125;&lt;/maxFileSize&gt;</span><br><span class="line">            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;</span><br><span class="line">        &lt;/rollingPolicy&gt;</span><br><span class="line">    &lt;/appender&gt;</span><br><span class="line">    &lt;!-- TRACE 输入到文件，按日期和文件大小 --&gt;</span><br><span class="line">    &lt;appender name=&quot;TRACE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;</span><br><span class="line">        &lt;encoder charset=&quot;utf-8&quot;&gt;</span><br><span class="line">            &lt;pattern&gt;[%-5level] %d&#123;$&#123;DATETIME&#125;&#125; [%thread] %logger&#123;36&#125; - %m%n</span><br><span class="line">            &lt;/pattern&gt;</span><br><span class="line">        &lt;/encoder&gt;</span><br><span class="line">        &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;</span><br><span class="line">            &lt;level&gt;TRACE&lt;/level&gt;</span><br><span class="line">            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;</span><br><span class="line">            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;</span><br><span class="line">        &lt;/filter&gt;</span><br><span class="line">        &lt;rollingPolicy</span><br><span class="line">                class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;</span><br><span class="line">            &lt;fileNamePattern&gt;$&#123;ROOT&#125;%d/trace.%i.log&lt;/fileNamePattern&gt;</span><br><span class="line">            &lt;maxHistory&gt;$&#123;MAXHISTORY&#125;&lt;/maxHistory&gt;</span><br><span class="line">            &lt;timeBasedFileNamingAndTriggeringPolicy</span><br><span class="line">                    class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;</span><br><span class="line">                &lt;maxFileSize&gt;$&#123;FILESIZE&#125;&lt;/maxFileSize&gt;</span><br><span class="line">            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;</span><br><span class="line">        &lt;/rollingPolicy&gt;</span><br><span class="line">    &lt;/appender&gt;</span><br><span class="line">    &lt;!--向logstash发送数据  线上服务的端口就是20514--&gt;</span><br><span class="line">    &lt;appender name=&quot;logstash&quot; class=&quot;net.logstash.logback.appender.LogstashTcpSocketAppender&quot;&gt;</span><br><span class="line">        &lt;param name=&quot;Encoding&quot; value=&quot;UTF-8&quot;/&gt;</span><br><span class="line">        &lt;remoteHost&gt;192.168.1.100&lt;/remoteHost&gt;</span><br><span class="line">        &lt;port&gt;20514&lt;/port&gt;</span><br><span class="line">        &lt;!-- &lt;filter class=&quot;com.program.interceptor.ELKFilter&quot;/&gt;--&gt;//引入过滤类</span><br><span class="line">        &lt;!-- encoder is required --&gt;</span><br><span class="line">        &lt;encoder charset=&quot;UTF-8&quot; class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot; &gt;</span><br><span class="line">            &lt;customFields&gt;&#123;&quot;appname&quot;:&quot;appname&quot;&#125;&lt;/customFields&gt;</span><br><span class="line">        &lt;/encoder&gt;</span><br><span class="line">    &lt;/appender&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;!-- SQL相关日志输出--&gt;</span><br><span class="line">    &lt;logger name=&quot;org.apache.ibatis&quot; level=&quot;INFO&quot; additivity=&quot;false&quot; /&gt;</span><br><span class="line">    &lt;logger name=&quot;org.mybatis.spring&quot; level=&quot;INFO&quot; additivity=&quot;false&quot; /&gt;</span><br><span class="line">    &lt;logger name=&quot;com.github.miemiedev.mybatis.paginator&quot; level=&quot;INFO&quot; additivity=&quot;false&quot; /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- Logger 根目录 --&gt;</span><br><span class="line">    &lt;root level=&quot;DEBUG&quot;&gt;</span><br><span class="line">        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;</span><br><span class="line">        &lt;appender-ref ref=&quot;DEBUG&quot; /&gt;</span><br><span class="line">        &lt;appender-ref ref=&quot;ERROR&quot; /&gt;</span><br><span class="line">        &lt;appender-ref ref=&quot;WARN&quot; /&gt;</span><br><span class="line">        &lt;appender-ref ref=&quot;INFO&quot; /&gt;</span><br><span class="line">        &lt;appender-ref ref=&quot;TRACE&quot; /&gt;</span><br><span class="line">        &lt;appender-ref ref=&quot;logstash&quot;/&gt;</span><br><span class="line">    &lt;/root&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure></p>
<p>(4). 配置说明logstash的配置氛围三大块(input,filter,output)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">input</span><br><span class="line"></span><br><span class="line">定义输入流，我们这里使用beatfile进行输入，所以定义很简单。</span><br><span class="line"></span><br><span class="line">filter==&gt;grok</span><br><span class="line"></span><br><span class="line">对filebeat的输入信息进行处理，根据正则匹配日志中的每一行信息，将信息格式化成相应的字段，发送给ElasticSearch进行存储。(稍后进行详细说明)。</span><br><span class="line"></span><br><span class="line">output</span><br></pre></td></tr></table></figure></p>
<p>(5). 验证和启动,中间的那个路径是配置文件所在目录的上一层目录位置<br>前台启动验证:<code>/usr/bin/logstash --path.settings /etc/logstash/ -f /etc/logstash/conf.d/logstash.conf  --config.test_and_exit</code><br>后台启动:<code>/home/elasticSearch/logstash-7.2.0/bin/logstash --path.settings /home/elasticSearch/logstashconfig/ -f /home/elasticSearch/logstashconfig/logstash.conf</code></p>
<p>(6).其它操作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">验证</span><br><span class="line">echo &quot;hello world&quot; &gt;/var/opt/log/a.log</span><br><span class="line">curl http://192.168.1.100:9200/_search?pretty 查看输出</span><br><span class="line"></span><br><span class="line">删除索引</span><br><span class="line"> </span><br><span class="line">curl -XDELETE http://192.168.1.100:9200/_all</span><br><span class="line"></span><br><span class="line">列出所有索引</span><br><span class="line">curl -u elastic:changeme &apos;http://192.168.1.100:9200/_cat/indices?v&apos;</span><br><span class="line"></span><br><span class="line">查看节点个数</span><br><span class="line">curl http://localhost:9200/_cluster/health?pretty</span><br></pre></td></tr></table></figure></p>
<h3 id="四-Kibana安装与配置"><a href="#四-Kibana安装与配置" class="headerlink" title="四.Kibana安装与配置"></a>四.Kibana安装与配置</h3><p>(1). kibana的启动在新版中也必须使用普通用户权限,所以请切换到king帐户来启动</p>
<p>(2). 将下载好的Kibana解压到对应的目录<br><code>tar -zxf kibana-6.0.0-linux-x86_64.tar.gz</code></p>
<p>(3).在配置文件中config/kibana.yml添加如下内容<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#将本机的外网ip地址配置上，这样外网才能访问到（更换为你的ip地址））。</span><br><span class="line">server.host: &quot;172.16.160.176&quot;</span><br><span class="line">#配置Elastic的地址，同台机器使用localhost,不同机器使用ip(我是和ES安装一起的)</span><br><span class="line">elasticsearch.url: &quot;http://localhost:9200&quot;</span><br></pre></td></tr></table></figure></p>
<p>(4). 进入到程序解压目录<br><code>bin/kibana</code><br>查看里程<code>netstat -tunlp|grep 5601</code></p>
<p>(5).外网访问<br><code>http://ip:5601</code></p>
<h3 id="五-使用rsyslog采集操作系统日志发送给logstash"><a href="#五-使用rsyslog采集操作系统日志发送给logstash" class="headerlink" title="五.使用rsyslog采集操作系统日志发送给logstash\"></a>五.使用rsyslog采集操作系统日志发送给logstash\</h3><p>(1). linux系统的日志路径<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/var/log/secure：系统安装日志，文本格式，应周期性分析</span><br><span class="line">/var/log/btmp：当前系统上，用户的失败尝试登录相关的日志信息，二进制格式，lastb命令进行查看</span><br><span class="line">/var/log/wtmp：当前系统上，用户正常登录系统的相关日志信息，二进制格式，last命令可以查看</span><br><span class="line">/var/log/lastlog:每一个用户最近一次的登录信息，二进制格式，lastlog命令可以查看</span><br><span class="line">/var/log/dmesg：系统引导过程中的日志信息，文本格式，专用命令dmesg查看</span><br><span class="line">/var/log/messages ：系统中大部分的信息</span><br><span class="line">/var/log/anaconda/* : anaconda的日志</span><br></pre></td></tr></table></figure></p>
<p>(2).收集用户的行为日志<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1. vim /etc/bashrc</span><br><span class="line">增加配置: export PROMPT_COMMAND=&apos;&#123; msg=$(history 1 | &#123; read x y; echo $y; &#125;);logger &quot;[euid=$(whoami)]&quot;:$(who am i):[`pwd`]&quot;$msg&quot;; &#125;&apos;</span><br><span class="line">刷新配置: source /etc/bashrc</span><br><span class="line">2.查看日志汇总</span><br><span class="line">tail -f /var/log/messages</span><br></pre></td></tr></table></figure></p>
<p>(3).可选,使用如下配置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;*.* @192.168.154.128&quot; &gt;&gt; /etc/syslog.conf</span><br><span class="line">service syslog restart</span><br></pre></td></tr></table></figure></p>
<p>(4).我的配置,第三步可省略,如下配置可监管<code>/var/log/message</code>下的记录<br>修改rsyslog的配置文件<br>[root@centos-yum ~]# vi /etc/rsyslog.conf<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">*增加以下内容 </span><br><span class="line">template(name=&quot;json_lines&quot; type=&quot;list&quot; option.json=&quot;on&quot;) &#123;</span><br><span class="line">  constant(value=&quot;&#123;&quot;)</span><br><span class="line">  constant(value=&quot;\&quot;timestamp\&quot;:\&quot;&quot;)</span><br><span class="line">  property(name=&quot;timereported&quot; dateFormat=&quot;rfc3339&quot;)</span><br><span class="line">  constant(value=&quot;\&quot;,\&quot;message\&quot;:\&quot;&quot;)</span><br><span class="line">  property(name=&quot;msg&quot;)</span><br><span class="line">  constant(value=&quot;\&quot;,\&quot;host\&quot;:\&quot;&quot;)</span><br><span class="line">  property(name=&quot;hostname&quot;)</span><br><span class="line">  constant(value=&quot;\&quot;,\&quot;severity\&quot;:\&quot;&quot;)</span><br><span class="line">  property(name=&quot;syslogseverity-text&quot;)</span><br><span class="line">  constant(value=&quot;\&quot;,\&quot;facility\&quot;:\&quot;&quot;)</span><br><span class="line">  property(name=&quot;syslogfacility-text&quot;)</span><br><span class="line">  constant(value=&quot;\&quot;,\&quot;app-name\&quot;:\&quot;&quot;)</span><br><span class="line">  property(name=&quot;programname&quot;)</span><br><span class="line">  constant(value=&quot;\&quot;,\&quot;procid\&quot;:\&quot;&quot;)</span><br><span class="line">  property(name=&quot;procid&quot;)</span><br><span class="line">  constant(value=&quot;\&quot;&#125;\n&quot;)</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">action(</span><br><span class="line">    type=&quot;omfwd&quot;</span><br><span class="line">    Target=&quot;10.20.20.67&quot;</span><br><span class="line">    Port=&quot;8515&quot;</span><br><span class="line">    Protocol=&quot;tcp&quot;</span><br><span class="line">    template=&quot;json_lines&quot;</span><br><span class="line"> )</span><br></pre></td></tr></table></figure></p>
<p>(5).对应的logstash配置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">input &#123;    </span><br><span class="line">    tcp &#123;        </span><br><span class="line">        port =&gt; &quot;8515&quot;        </span><br><span class="line">        codec =&gt; &quot;json&quot;        </span><br><span class="line">        type =&gt; &quot;syslog-json&quot;    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</div><iframe src="/donate/?AliPayQR=/img/AliPayQR.png&amp;WeChatQR=/img/WeChatQR.png&amp;GitHub=null&amp;BTCQR=null&amp;BTCKEY=null&amp;PayPal=null" style="overflow-x:hidden; overflow-y:hidden; border:0xp none #fff; min-height:240px; width:100%;" frameborder="0" scrolling="no"></iframe><div class="tags"><a href="/tags/运维/">运维</a></div><div class="post-nav"><a class="next" href="/2019/06/16/mysql5.7-centos7的安装/">mysql5.7-centos7的安装</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/HTML/">HTML</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mybatis/">Mybatis</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpringBoot/">SpringBoot</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpringMVC/">SpringMVC</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/WebService/">WebService</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/elk/">elk</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/http/">http</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery/">jQuery</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mariaDB/">mariaDB</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/">mysql</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ngnix/">ngnix</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/redis/">redis</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/struts/">struts</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/动态代理/">动态代理</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/基础/">基础</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/多线程/">多线程</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/定时入库/">定时入库</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/框架/">框架</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解决/">解决</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/">设计模式</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/项目/">项目</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/数据库/" style="font-size: 15px;">数据库</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/sql/" style="font-size: 15px;">sql</a> <a href="/tags/基础/" style="font-size: 15px;">基础</a> <a href="/tags/idea/" style="font-size: 15px;">idea</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/运维/" style="font-size: 15px;">运维</a> <a href="/tags/JVM/" style="font-size: 15px;">JVM</a> <a href="/tags/Mysql/" style="font-size: 15px;">Mysql</a> <a href="/tags/框架/" style="font-size: 15px;">框架</a> <a href="/tags/orcal/" style="font-size: 15px;">orcal</a> <a href="/tags/前端/" style="font-size: 15px;">前端</a> <a href="/tags/spring-mvc/" style="font-size: 15px;">spring mvc</a> <a href="/tags/springAOP/" style="font-size: 15px;">springAOP</a> <a href="/tags/svn/" style="font-size: 15px;">svn</a> <a href="/tags/struts/" style="font-size: 15px;">struts</a> <a href="/tags/service-xml-trans-xml/" style="font-size: 15px;">service.xml trans.xml</a> <a href="/tags/dao-xml/" style="font-size: 15px;">dao.xml</a> <a href="/tags/复盘/" style="font-size: 15px;">复盘</a> <a href="/tags/秒杀/" style="font-size: 15px;">秒杀</a> <a href="/tags/观察者模式/" style="font-size: 15px;">观察者模式</a> <a href="/tags/solr/" style="font-size: 15px;">solr</a> <a href="/tags/spring/" style="font-size: 15px;">spring</a> <a href="/tags/web-xml/" style="font-size: 15px;">web.xml</a> <a href="/tags/mvc-xml/" style="font-size: 15px;">mvc.xml</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/07/05/ELK搭建/">ELK搭建</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/16/mysql5.7-centos7的安装/">mysql5.7-centos7的安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/14/redis 5.X集群/">redis5.0集群</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/17/安装MariaDB和配置远程连接/">安装MariaDB和配置远程连接</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/17/ngnix主备高可用搭建/">ngnix主备高可用搭建</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/29/jQuery之二/">jQuery之二(操作)</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/23/jQurey之一(选择器)/">jQuery之一(选择器)</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/23/HTML/">HTML</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/23/struts/">struts总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/11/定时入库/">复盘定时入库项目</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://github.com/your-user-name" title="GitHub" target="_blank">GitHub</a><ul></ul><a href="http://douban.com/people/your-user-name" title="豆瓣" target="_blank">豆瓣</a><ul></ul><a href="http://www.zhihu.com/people/your-user-name" title="知乎" target="_blank">知乎</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019  阙继芳</div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script><script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>